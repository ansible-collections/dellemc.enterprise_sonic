---
ansible_connection: httpapi
module_name: bgp_communities

tests:
  - name: test_case_01
    description: BGP Communities properties
    state: merged
    input:
      - name: test
        type: expanded
        permit: true
        match: ANY
        members:
          regex:
            - "11"
            - "12"
      - name: test2
        type: standard
        permit: false
        aann:
          - "11:11"
          - "12:12"
        no_export: true
        match: ALL
  - name: test_case_02
    description: Update created BGP properties
    state: merged
    input:
        - name: test
          type: expanded
          permit: true
          match: ANY
          members:
            regex:
              - "12"
              - "13"
              - 14
        - name: test2
          type: standard
          permit: false
          no_peer: true
          match: ALL
  - name: test_case_03
    description: Update1 created BGP properties
    state: merged
    input:
        - name: test
          type: expanded
          permit: false
          match: ANY
          members:
            regex:
              - "11"
              - "12"
        - name: test2
          type: standard
          permit: true
          match: ALL
          aann:
            - "123:123"
            - "124:124"
  - name: test_case_04
    description: Delete BGP properties
    state: deleted
    input:
        - name: test
          type: expanded
          members:
            regex:
              - "12"
              - "13"
        - name: test2
          type: standard
          match: ALL
          aann:
            - "12:12"
          no_export: true
  - name: test_case_05
    description: Delete1 BGP properties
    state: deleted
    input:
        - name: test
          type: expanded
          members:
            regex:
  - name: test_case_06
    description: Update2 BGP properties
    state: merged
    input:
        - name: test
          type: expanded
          match: ANY
          permit: true
          members:
            regex:
              - 201
        - name: test3
          type: expanded
          match: ALL
          permit: true
          members:
            regex:
              - "110"
              - 111
  - name: test_case_07
    description: Replace BGP properties
    state: replaced
    input:
        - name: test
          type: standard
          aann:
            - "1550:1550"
            - "220:221"
            - "330:331"
          local_as: true
          permit: true
        - name: test2
          type: expanded
          match: ALL
          permit: false
          members:
            regex:
              - "220"
              - 222
              - "123"
  - name: test_case_08
    description: Replace2 BGP properties
    state: replaced
    input:
        - name: test4
          type: standard
          permit: true
          aann:
            - "300:300"
            - "400:400"
          no_peer: true
        - name: test5
          type: expanded
          members:
            regex:
              - 113
          permit: true
  - name: test_case_09
    description: Override BGP properties
    state: overridden
    input:
        - name: test3
          type: standard
          permit: false
          aann:
            - "20:20"
        - name: test2
          type: standard
          permit: true
          no_export: true
  - name: test_case_10
    description: Override2 BGP properties
    state: overridden
    input:
        - name: test3
          type: standard
          permit: false
          no_export: true
        - name: test2
          type: standard
          permit: true
          no_export: true
  - name: test_case_11
    description: Delete2 BGP properties
    state: deleted
    input:
        - name: test3
  - name: test_case_12
    description: Delete2 BGP properties
    state: deleted
    input: []
