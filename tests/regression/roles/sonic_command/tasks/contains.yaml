---
- name: Test SONiC single command with wait_for
  sonic_command:
    commands: 'show platform '
    wait_for:
      - result[0] contains Del
  register: result

- name: First assertion
  ansible.builtin.assert:
    that:
      - "result.changed == false"
      - "result.stdout is defined"

- name: Test SONiC multiple command with wait_for
  sonic_command:
    commands:
      - 'show platform'
      - 'show system'
    wait_for:
      - result[0] contains Dell
      - result[1] contains sonic
  register: result

- name: Second assertion
  ansible.builtin.assert:
    that:
      - "result.changed == false"
      - "result.stdout is defined"
