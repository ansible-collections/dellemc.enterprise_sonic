---
- name: Delete existing logging configurations
  sonic_logging:
    config: {}
    state: deleted
  failed_when: false

- name: Initialize loopback
  sonic_interfaces:
    config:
      - name: Loopback100
    state: merged
  failed_when: false

- name: Initialize portchannel
  sonic_lag_interfaces:
    config:
      - name: PortChannel100
    state: merged
  failed_when: false

- name: Initialize VLAN
  sonic_vlans:
    config:
      - vlan_id: 100
    state: merged
  failed_when: false

- name: Create VRFs
  sonic_vrfs:
    config:
      - name: Vrf_logging_1
      - name: Vrf_logging_2
    state: merged
  failed_when: false

- name: Create security profiles
  sonic_pki:
    config:
      security_profiles:
        - profile_name: default
        - profile_name: spl
