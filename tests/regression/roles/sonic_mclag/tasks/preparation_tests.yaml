---
- name: Deletes old VXLANs
  sonic_vxlans:
    config: []
    state: deleted
  failed_when: false

- name: Create sonic_lag_interfaces "merged" state
  sonic_lag_interfaces:
    config: "{{ preparations_tests.add_lag_interfaces }}"
    state: merged
  failed_when: false

- name: Create VLANs inputs
  sonic_vlans:
    config: "{{ preparations_tests.add_vlans_input }}"
    state: merged
  failed_when: false

- name: Create VRFs
  sonic_vrfs:
    config: "{{ preparations_tests.add_vrf_input }}"
    state: merged
  failed_when: false

- name: Delete existing MCLAG
  sonic_mclag:
    config:
    state: deleted
  failed_when: false
