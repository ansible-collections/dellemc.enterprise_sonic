---
merged_01:
  module_args:
    commands:
      - show version
    retries: 5
    interval: 3
    wait_for:
      - result[0] contains Version
  existing_command_config:
    - path: "/data/openconfig-network-instance:network-instances/network-instance=default/protocols/protocol=BGP,bgp/bgp/global"
      response:
        code: 200
        value:
          openconfig-network-instance:global:
            config:
              as: 5
    - path: "data/sonic-vrf:sonic-vrf/VRF/VRF_LIST"
      response:
        code: 200
        value:
          sonic-vrf:VRF_LIST:
            - vrf_name: default
  expected_config_requests:
    - path: "data/openconfig-routing-policy:routing-policy/defined-sets/openconfig-bgp-policy:bgp-defined-sets/community-sets"
      method: "patch"
      data:
        openconfig-bgp-policy:community-sets:
          community-set:
            - community-set-name: 'test'
              config:
                community-set-name: 'test'
                community-member:
                  - REGEX:808.*
                  - REGEX:NOPEER
                  - REGEX:NO_EXPORT
                  - REGEX:NO_ADVERTISE
                openconfig-bgp-policy-ext:action: 'PERMIT'
                match-set-options: 'ALL'
