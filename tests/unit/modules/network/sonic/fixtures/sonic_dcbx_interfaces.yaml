---
merged_01:
  module_args:
    config:
      - name: 'Ethernet0'
        enabled: False
        pfc_tlv_enabled: False
        ets_configuration_tlv_enabled: False
        ets_recommendation_tlv_enabled: False
    state: merged

  existing_dcbx_interfaces_config:
    - path: "data/openconfig-dcbx:dcbx/interfaces/interface"
      response:
        code: 200
        value:
          openconfig-dcbx:interface:
            - name: 'Ethernet0'
              config:
                enabled: True
                pfc-tlv-enabled: True
                ets-configuration-tlv-enabled: True
                ets-recommendation-tlv-enabled: True 

  expected_config_requests:
    - path: data/openconfig-dcbx:dcbx/interfaces/interface=Ethernet0/config/enabled
      method: patch
      data:
        enabled: False
    - path: data/openconfig-dcbx:dcbx/interfaces/interface=Ethernet0/config/pfc-tlv-enabled
      method: patch
      data:
        pfc-tlv-enabled: False
    - path: data/openconfig-dcbx:dcbx/interfaces/interface=Ethernet0/config/ets-configuration-tlv-enabled
      method: patch
      data:
        ets-configuration-tlv-enabled: False
    - path: data/openconfig-dcbx:dcbx/interfaces/interface=Ethernet0/config/ets-recommendation-tlv-enabled
      method: patch
      data:
        ets-recommendation-tlv-enabled: False

merged_02:
  module_args:
    config:
      - name: 'Ethernet0'
        enabled: True 
        pfc_tlv_enabled: True
        ets_configuration_tlv_enabled: True 
        ets_recommendation_tlv_enabled: True 
    state: merged

  existing_dcbx_interfaces_config:
    - path: "data/openconfig-dcbx:dcbx/interfaces/interface"
      response:
        code: 200
        value:
          openconfig-dcbx:interface:
            - name: 'Ethernet0'
              config:
                enabled: False 
                pfc-tlv-enabled: False 
                ets-configuration-tlv-enabled: False 
                ets-recommendation-tlv-enabled: False 

  expected_config_requests:
    - path: data/openconfig-dcbx:dcbx/interfaces/interface=Ethernet0/config/enabled
      method: delete 
    - path: data/openconfig-dcbx:dcbx/interfaces/interface=Ethernet0/config/pfc-tlv-enabled
      method: delete 
    - path: data/openconfig-dcbx:dcbx/interfaces/interface=Ethernet0/config/ets-configuration-tlv-enabled
      method: delete 
    - path: data/openconfig-dcbx:dcbx/interfaces/interface=Ethernet0/config/ets-recommendation-tlv-enabled
      method: delete 

deleted_01:
  module_args:
    config:
      - name: 'Ethernet0'
    state: deleted

  existing_dcbx_interfaces_config:
    - path: "data/openconfig-dcbx:dcbx/interfaces/interface"
      response:
        code: 200
        value:
          openconfig-dcbx:interface:
            - name: 'Ethernet0'
              config:
                enabled: False 
                pfc-tlv-enabled: False 
                ets-configuration-tlv-enabled: False
                ets-recommendation-tlv-enabled: False 

  expected_config_requests:
    - path: data/openconfig-dcbx:dcbx/interfaces/interface=Ethernet0
      method: delete 

deleted_02:
  module_args:
    config:
      - name: 'Ethernet24'
        pfc_tlv_enabled: False
    state: deleted

  existing_dcbx_interfaces_config:
    - path: "data/openconfig-dcbx:dcbx/interfaces/interface"
      response:
        code: 200
        value:
          openconfig-dcbx:interface:
            - name: 'Ethernet24'
              config:
                pfc-tlv-enabled: False

  expected_config_requests:
    - path: data/openconfig-dcbx:dcbx/interfaces/interface=Ethernet24/config/pfc-tlv-enabled
      method: delete
