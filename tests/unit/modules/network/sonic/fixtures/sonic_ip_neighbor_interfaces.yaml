---
merged_01:
  module_args:
    config:
      - name: 'Eth1/5'
        ipv4_neighbors:
          - ip: '10.1.1.1'
            mac: '44:10:01:01:01:01'
      - name: 'Eth1/6'
        ipv6_neighbors:
          - ip: '100::100'
            mac: '66:10:01:01:01:01'
      - name: 'PortChannel100'
        ipv4_neighbors:
          - ip: '20.1.1.2'
            mac: '44:20:02:02:02:02'
        ipv6_neighbors:
          - ip: '200::200'
            mac: '66:20:02:02:02:02'
      - name: 'Vlan100'
        ipv4_neighbors:
          - ip: '30.1.1.3'
            mac: '44:30:03:03:03:03'
          - ip: '30.1.1.4'
            mac: '44:30:04:04:04:04'
      - name: 'Vlan101'
        ipv6_neighbors:
          - ip: '300::300'
            mac: '66:30:03:03:03:03'
          - ip: '300::400'
            mac: '66:30:04:04:04:04'
  facts_get_requests:
    - path: 'data/openconfig-interfaces:interfaces/interface'
      response:
        code: 200
        value:
          openconfig-interfaces:interface:
            - name: 'Eth1/5'
              subinterfaces:
                subinterface:
                  - index: 0
                    openconfig-if-ip:ipv4:
                      neighbors:
                        neighbor:
                          - ip: '10.1.1.1'
                            config:
                              ip: '10.1.1.1'
                              link-layer-address: '01:01:01:01:01:01'
            - name: 'Eth1/6'
              subinterfaces:
                subinterface:
                  - index: 0
                    openconfig-if-ip:ipv6:
                      neighbors:
                        neighbor:
                          - ip: '100::100'
                            config:
                              ip: '100::100'
                              link-layer-address: '11:11:11:01:01:01'
            - name: 'PortChannel100'
              subinterfaces:
                subinterface:
                  - index: 0
                    openconfig-if-ip:ipv4:
                      neighbors:
                        neighbor:
                          - ip: '20.1.1.1'
                            config:
                              ip: '20.1.1.1'
                              link-layer-address: '02:02:02:01:01:01'
                    openconfig-if-ip:ipv6:
                      neighbors:
                        neighbor:
                          - ip: '200::100'
                            config:
                              ip: '200::100'
                              link-layer-address: '22:22:22:02:02:02'
  config_requests:
    - path: 'data/openconfig-interfaces:interfaces/interface=Eth1%2f5/subinterfaces/subinterface=0/openconfig-if-ip:ipv4/neighbors'
      method: 'patch'
      data:
        openconfig-if-ip:neighbors:
          neighbor:
            - ip: '10.1.1.1'
              config:
                ip: '10.1.1.1'
                link-layer-address: '44:10:01:01:01:01'
    - path: 'data/openconfig-interfaces:interfaces/interface=Eth1%2f6/subinterfaces/subinterface=0/openconfig-if-ip:ipv6/neighbors'
      method: 'patch'
      data:
        openconfig-if-ip:neighbors:
          neighbor:
            - ip: '100::100'
              config:
                ip: '100::100'
                link-layer-address: '66:10:01:01:01:01'
    - path: 'data/openconfig-interfaces:interfaces/interface=PortChannel100/subinterfaces/subinterface=0/openconfig-if-ip:ipv4/neighbors'
      method: 'patch'
      data:
        openconfig-if-ip:neighbors:
          neighbor:
            - ip: '20.1.1.2'
              config:
                ip: '20.1.1.2'
                link-layer-address: '44:20:02:02:02:02'
    - path: 'data/openconfig-interfaces:interfaces/interface=PortChannel100/subinterfaces/subinterface=0/openconfig-if-ip:ipv6/neighbors'
      method: 'patch'
      data:
        openconfig-if-ip:neighbors:
          neighbor:
            - ip: '200::200'
              config:
                ip: '200::200'
                link-layer-address: '66:20:02:02:02:02'
    - path: 'data/openconfig-interfaces:interfaces/interface=Vlan100/openconfig-vlan:routed-vlan/openconfig-if-ip:ipv4/neighbors'
      method: 'patch'
      data:
        openconfig-if-ip:neighbors:
          neighbor:
            - ip: '30.1.1.3'
              config:
                ip: '30.1.1.3'
                link-layer-address: '44:30:03:03:03:03'
    - path: 'data/openconfig-interfaces:interfaces/interface=Vlan100/openconfig-vlan:routed-vlan/openconfig-if-ip:ipv4/neighbors'
      method: 'patch'
      data:
        openconfig-if-ip:neighbors:
          neighbor:
            - ip: '30.1.1.4'
              config:
                ip: '30.1.1.4'
                link-layer-address: '44:30:04:04:04:04'
    - path: 'data/openconfig-interfaces:interfaces/interface=Vlan101/openconfig-vlan:routed-vlan/openconfig-if-ip:ipv6/neighbors'
      method: 'patch'
      data:
        openconfig-if-ip:neighbors:
          neighbor:
            - ip: '300::300'
              config:
                ip: '300::300'
                link-layer-address: '66:30:03:03:03:03'
    - path: 'data/openconfig-interfaces:interfaces/interface=Vlan101/openconfig-vlan:routed-vlan/openconfig-if-ip:ipv6/neighbors'
      method: 'patch'
      data:
        openconfig-if-ip:neighbors:
          neighbor:
            - ip: '300::400'
              config:
                ip: '300::400'
                link-layer-address: '66:30:04:04:04:04'

deleted_01:
  module_args:
    config:
      - name: 'Eth1/1'
        ipv4_neighbors:
          - ip: '10.1.1.1'
          - ip: '10.1.1.3'
        ipv6_neighbors:
          - ip: '100::100'
          - ip: '100::300'
      - name: 'Eth1/2'
      - name: 'Eth1/3'
      - name: 'Vlan100'
        ipv4_neighbors:
          - ip: '30.1.1.3'
      - name: 'Vlan101'
        ipv6_neighbors:
          - ip: '300::300'
    state: deleted
  facts_get_requests:
    - path: 'data/openconfig-interfaces:interfaces/interface'
      response:
        code: 200
        value:
          openconfig-interfaces:interface:
            - name: 'Eth1/1'
              subinterfaces:
                subinterface:
                  - index: 0
                    openconfig-if-ip:ipv4:
                      neighbors:
                        neighbor:
                          - ip: '10.1.1.1'
                            config:
                              ip: '10.1.1.1'
                              link-layer-address: '01:01:01:01:01:01'
                          - ip: '10.1.1.2'
                            config:
                              ip: '10.1.1.2'
                              link-layer-address: '01:01:01:02:01:01'
                          - ip: '10.1.1.3'
                            config:
                              ip: '10.1.1.3'
                              link-layer-address: '01:01:01:03:01:01'
                    openconfig-if-ip:ipv6:
                      neighbors:
                        neighbor:
                          - ip: '100::100'
                            config:
                              ip: '100::100'
                              link-layer-address: '11:11:11:01:01:01'
                          - ip: '100::200'
                            config:
                              ip: '100::200'
                              link-layer-address: '11:11:11:02:01:01'
                          - ip: '100::300'
                            config:
                              ip: '100::300'
                              link-layer-address: '11:11:11:03:01:01'
            - name: 'Eth1/2'
              subinterfaces:
                subinterface:
                  - index: 0
                    openconfig-if-ip:ipv4:
                      neighbors:
                        neighbor:
                          - ip: '20.1.1.1'
                            config:
                              ip: '20.1.1.1'
                              link-layer-address: '02:02:02:01:01:01'
                    openconfig-if-ip:ipv6:
                      neighbors:
                        neighbor:
                          - ip: '200::100'
                            config:
                              ip: '200::100'
                              link-layer-address: '22:22:22:01:01:01'
            - name: 'Vlan100'
              openconfig-vlan:routed-vlan:
                openconfig-if-ip:ipv4:
                  neighbors:
                    neighbor:
                      - ip: '30.1.1.3'
                        config:
                          ip: '30.1.1.3'
                          link-layer-address: '33:30:03:03:03:03'
            - name: 'Vlan101'
              openconfig-vlan:routed-vlan:
                openconfig-if-ip:ipv6:
                  neighbors:
                    neighbor:
                      - ip: '300::300'
                        config:
                          ip: '300::300'
                          link-layer-address: '66:30:03:03:03:03'
  config_requests:
    - path: 'data/openconfig-interfaces:interfaces/interface=Eth1%2f1/subinterfaces/subinterface=0/openconfig-if-ip:ipv4/neighbors/neighbor=10.1.1.1'
      method: 'delete'
    - path: 'data/openconfig-interfaces:interfaces/interface=Eth1%2f1/subinterfaces/subinterface=0/openconfig-if-ip:ipv4/neighbors/neighbor=10.1.1.3'
      method: 'delete'
    - path: 'data/openconfig-interfaces:interfaces/interface=Eth1%2f1/subinterfaces/subinterface=0/openconfig-if-ip:ipv6/neighbors/neighbor=100::100'
      method: 'delete'
    - path: 'data/openconfig-interfaces:interfaces/interface=Eth1%2f1/subinterfaces/subinterface=0/openconfig-if-ip:ipv6/neighbors/neighbor=100::300'
      method: 'delete'
    - path: 'data/openconfig-interfaces:interfaces/interface=Eth1%2f2/subinterfaces/subinterface=0/openconfig-if-ip:ipv4/neighbors'
      method: 'delete'
    - path: 'data/openconfig-interfaces:interfaces/interface=Eth1%2f2/subinterfaces/subinterface=0/openconfig-if-ip:ipv6/neighbors'
      method: 'delete'
    - path: 'data/openconfig-interfaces:interfaces/interface=Vlan100/openconfig-vlan:routed-vlan/openconfig-if-ip:ipv4/neighbors/neighbor=30.1.1.3'
      method: 'delete'
    - path: 'data/openconfig-interfaces:interfaces/interface=Vlan101/openconfig-vlan:routed-vlan/openconfig-if-ip:ipv6/neighbors/neighbor=300::300'
      method: 'delete'

deleted_02:
  module_args:
    config: []
    state: deleted
  facts_get_requests:
    - path: 'data/openconfig-interfaces:interfaces/interface'
      response:
        code: 200
        value:
          openconfig-interfaces:interface:
            - name: 'Eth1/1'
              subinterfaces:
                subinterface:
                  - index: 0
                    openconfig-if-ip:ipv4:
                      neighbors:
                        neighbor:
                          - ip: '10.1.1.1'
                            config:
                              ip: '10.1.1.1'
                              link-layer-address: '01:01:01:01:01:01'
                          - ip: '10.1.1.2'
                            config:
                              ip: '10.1.1.2'
                              link-layer-address: '01:01:01:02:01:01'
                    openconfig-if-ip:ipv6:
                      neighbors:
                        neighbor:
                          - ip: '100::100'
                            config:
                              ip: '100::100'
                              link-layer-address: '11:11:11:01:01:01'
                          - ip: '100::200'
                            config:
                              ip: '100::200'
                              link-layer-address: '11:11:11:02:01:01'
            - name: 'Vlan100'
              openconfig-vlan:routed-vlan:
                openconfig-if-ip:ipv4:
                  neighbors:
                    neighbor:
                      - ip: '30.1.1.3'
                        config:
                          ip: '30.1.1.3'
                          link-layer-address: '33:30:03:03:03:03'
            - name: 'Vlan101'
              openconfig-vlan:routed-vlan:
                openconfig-if-ip:ipv6:
                  neighbors:
                    neighbor:
                      - ip: '300::300'
                        config:
                          ip: '300::300'
                          link-layer-address: '66:30:03:03:03:03'
  config_requests:
    - path: 'data/openconfig-interfaces:interfaces/interface=Eth1%2f1/subinterfaces/subinterface=0/openconfig-if-ip:ipv4/neighbors'
      method: 'delete'
    - path: 'data/openconfig-interfaces:interfaces/interface=Eth1%2f1/subinterfaces/subinterface=0/openconfig-if-ip:ipv6/neighbors'
      method: 'delete'
    - path: 'data/openconfig-interfaces:interfaces/interface=Vlan100/openconfig-vlan:routed-vlan/openconfig-if-ip:ipv4/neighbors'
      method: 'delete'
    - path: 'data/openconfig-interfaces:interfaces/interface=Vlan101/openconfig-vlan:routed-vlan/openconfig-if-ip:ipv6/neighbors'
      method: 'delete'

replaced_01:
  module_args:
    config:
      - name: 'Eth1/31'
        ipv4_neighbors:
          - ip: '10.1.1.1'
            mac: '44:10:01:01:01:01'
          - ip: '10.1.1.3'
            mac: '44:10:03:03:03:03'
        ipv6_neighbors:
          - ip: '100::100'
            mac: '66:10:01:01:01:01'
          - ip: '100::300'
            mac: '66:10:03:03:03:03'
      - name: 'Eth1/32'
        ipv4_neighbors:
          - ip: '20.1.1.2'
            mac: '44:20:02:02:02:02'
          - ip: '20.1.1.4'
            mac: '44:20:04:04:04:04'
      - name: 'PortChannel100'
      - name: 'Vlan100'
        ipv4_neighbors:
          - ip: '30.1.1.3'
            mac: '44:30:03:03:03:03'
    state: replaced
  facts_get_requests:
    - path: 'data/openconfig-interfaces:interfaces/interface'
      response:
        code: 200
        value:
          openconfig-interfaces:interface:
            - name: 'Eth1/31'
              subinterfaces:
                subinterface:
                  - index: 0
                    openconfig-if-ip:ipv4:
                      neighbors:
                        neighbor:
                          - ip: '10.1.1.1'
                            config:
                              ip: '10.1.1.1'
                              link-layer-address: '01:01:01:01:01:01'
                          - ip: '10.1.1.2'
                            config:
                              ip: '10.1.1.2'
                              link-layer-address: '01:01:01:02:01:01'
                    openconfig-if-ip:ipv6:
                      neighbors:
                        neighbor:
                          - ip: '100::100'
                            config:
                              ip: '100::100'
                              link-layer-address: '11:11:11:01:01:01'
                          - ip: '100::200'
                            config:
                              ip: '100::200'
                              link-layer-address: '11:11:11:02:01:01'
            - name: 'Eth1/32'
              subinterfaces:
                subinterface:
                  - index: 0
                    openconfig-if-ip:ipv6:
                      neighbors:
                        neighbor:
                          - ip: '200::100'
                            config:
                              ip: '200::100'
                              link-layer-address: '22:22:22:01:01:01'
                          - ip: '200::300'
                            config:
                              ip: '200::300'
                              link-layer-address: '22:22:22:03:01:01'
            - name: 'PortChannel100'
              subinterfaces:
                subinterface:
                  - index: 0
                    openconfig-if-ip:ipv4:
                      neighbors:
                        neighbor:
                          - ip: '30.1.1.1'
                            config:
                              ip: '30.1.1.1'
                              link-layer-address: '33:30:01:01:01:01'
            - name: 'PortChannel101'
              subinterfaces:
                subinterface:
                  - index: 0
                    openconfig-if-ip:ipv4:
                      neighbors:
                        neighbor:
                          - ip: '31.1.1.1'
                            config:
                              ip: '31.1.1.1'
                              link-layer-address: '33:31:01:01:01:01'
  config_requests:
    - path: 'data/openconfig-interfaces:interfaces/interface=Eth1%2f31/subinterfaces/subinterface=0/openconfig-if-ip:ipv4/neighbors/neighbor=10.1.1.2'
      method: 'delete'
    - path: 'data/openconfig-interfaces:interfaces/interface=Eth1%2f31/subinterfaces/subinterface=0/openconfig-if-ip:ipv6/neighbors/neighbor=100::200'
      method: 'delete'
    - path: 'data/openconfig-interfaces:interfaces/interface=Eth1%2f32/subinterfaces/subinterface=0/openconfig-if-ip:ipv6/neighbors/neighbor=200::100'
      method: 'delete'
    - path: 'data/openconfig-interfaces:interfaces/interface=Eth1%2f32/subinterfaces/subinterface=0/openconfig-if-ip:ipv6/neighbors/neighbor=200::300'
      method: 'delete'
    - path: 'data/openconfig-interfaces:interfaces/interface=PortChannel100/subinterfaces/subinterface=0/openconfig-if-ip:ipv4/neighbors'
      method: 'delete'
    - path: 'data/openconfig-interfaces:interfaces/interface=Eth1%2f31/subinterfaces/subinterface=0/openconfig-if-ip:ipv4/neighbors'
      method: 'patch'
      data:
        openconfig-if-ip:neighbors:
          neighbor:
            - ip: '10.1.1.1'
              config:
                ip: '10.1.1.1'
                link-layer-address: '44:10:01:01:01:01'
    - path: 'data/openconfig-interfaces:interfaces/interface=Eth1%2f31/subinterfaces/subinterface=0/openconfig-if-ip:ipv4/neighbors'
      method: 'patch'
      data:
        openconfig-if-ip:neighbors:
          neighbor:
            - ip: '10.1.1.3'
              config:
                ip: '10.1.1.3'
                link-layer-address: '44:10:03:03:03:03'
    - path: 'data/openconfig-interfaces:interfaces/interface=Eth1%2f31/subinterfaces/subinterface=0/openconfig-if-ip:ipv6/neighbors'
      method: 'patch'
      data:
        openconfig-if-ip:neighbors:
          neighbor:
            - ip: '100::100'
              config:
                ip: '100::100'
                link-layer-address: '66:10:01:01:01:01'
    - path: 'data/openconfig-interfaces:interfaces/interface=Eth1%2f31/subinterfaces/subinterface=0/openconfig-if-ip:ipv6/neighbors'
      method: 'patch'
      data:
        openconfig-if-ip:neighbors:
          neighbor:
            - ip: '100::300'
              config:
                ip: '100::300'
                link-layer-address: '66:10:03:03:03:03'
    - path: 'data/openconfig-interfaces:interfaces/interface=Eth1%2f32/subinterfaces/subinterface=0/openconfig-if-ip:ipv4/neighbors'
      method: 'patch'
      data:
        openconfig-if-ip:neighbors:
          neighbor:
            - ip: '20.1.1.2'
              config:
                ip: '20.1.1.2'
                link-layer-address: '44:20:02:02:02:02'
    - path: 'data/openconfig-interfaces:interfaces/interface=Eth1%2f32/subinterfaces/subinterface=0/openconfig-if-ip:ipv4/neighbors'
      method: 'patch'
      data:
        openconfig-if-ip:neighbors:
          neighbor:
            - ip: '20.1.1.4'
              config:
                ip: '20.1.1.4'
                link-layer-address: '44:20:04:04:04:04'
    - path: 'data/openconfig-interfaces:interfaces/interface=Vlan100/openconfig-vlan:routed-vlan/openconfig-if-ip:ipv4/neighbors'
      method: 'patch'
      data:
        openconfig-if-ip:neighbors:
          neighbor:
            - ip: '30.1.1.3'
              config:
                ip: '30.1.1.3'
                link-layer-address: '44:30:03:03:03:03'

overridden_01:
  module_args:
    config:
      - name: 'Eth1/31'
        ipv4_neighbors:
          - ip: '10.1.1.1'
            mac: '44:10:01:01:01:01'
        ipv6_neighbors:
          - ip: '100::100'
            mac: '66:10:01:01:01:01'
    state: overridden
  facts_get_requests:
    - path: 'data/openconfig-interfaces:interfaces/interface'
      response:
        code: 200
        value:
          openconfig-interfaces:interface:
            - name: 'Eth1/32'
              subinterfaces:
                subinterface:
                  - index: 0
                    openconfig-if-ip:ipv4:
                      neighbors:
                        neighbor:
                          - ip: '20.1.1.1'
                            config:
                              ip: '20.1.1.1'
                              link-layer-address: '02:02:02:01:01:01'
                    openconfig-if-ip:ipv6:
                      neighbors:
                        neighbor:
                          - ip: '200::100'
                            config:
                              ip: '200::100'
                              link-layer-address: '22:22:22:01:01:01'
            - name: 'Vlan100'
              openconfig-vlan:routed-vlan:
                openconfig-if-ip:ipv4:
                  neighbors:
                    neighbor:
                      - ip: '30.1.1.3'
                        config:
                          ip: '30.1.1.3'
                          link-layer-address: '33:30:03:03:03:03'
            - name: 'Vlan101'
              openconfig-vlan:routed-vlan:
                openconfig-if-ip:ipv6:
                  neighbors:
                    neighbor:
                      - ip: '300::300'
                        config:
                          ip: '300::300'
                          link-layer-address: '66:30:03:03:03:03'
  config_requests:
    - path: 'data/openconfig-interfaces:interfaces/interface=Eth1%2f32/subinterfaces/subinterface=0/openconfig-if-ip:ipv4/neighbors'
      method: 'delete'
    - path: 'data/openconfig-interfaces:interfaces/interface=Eth1%2f32/subinterfaces/subinterface=0/openconfig-if-ip:ipv6/neighbors'
      method: 'delete'
    - path: 'data/openconfig-interfaces:interfaces/interface=Vlan100/openconfig-vlan:routed-vlan/openconfig-if-ip:ipv4/neighbors'
      method: 'delete'
    - path: 'data/openconfig-interfaces:interfaces/interface=Vlan101/openconfig-vlan:routed-vlan/openconfig-if-ip:ipv6/neighbors'
      method: 'delete'
    - path: 'data/openconfig-interfaces:interfaces/interface=Eth1%2f31/subinterfaces/subinterface=0/openconfig-if-ip:ipv4/neighbors'
      method: 'patch'
      data:
        openconfig-if-ip:neighbors:
          neighbor:
            - ip: '10.1.1.1'
              config:
                ip: '10.1.1.1'
                link-layer-address: '44:10:01:01:01:01'
    - path: 'data/openconfig-interfaces:interfaces/interface=Eth1%2f31/subinterfaces/subinterface=0/openconfig-if-ip:ipv6/neighbors'
      method: 'patch'
      data:
        openconfig-if-ip:neighbors:
          neighbor:
            - ip: '100::100'
              config:
                ip: '100::100'
                link-layer-address: '66:10:01:01:01:01'

overridden_02:
  module_args:
    config:
      - name: 'Eth1/31'
        ipv4_neighbors:
          - ip: '10.1.1.1'
            mac: '44:10:01:01:01:01'
        ipv6_neighbors:
          - ip: '100::100'
            mac: '66:10:01:01:01:01'
    state: overridden
  facts_get_requests:
    - path: 'data/openconfig-interfaces:interfaces/interface'
      response:
        code: 200
        value:
          openconfig-interfaces:interface:
            - name: 'Eth1/31'
              subinterfaces:
                subinterface:
                  - index: 0
                    openconfig-if-ip:ipv4:
                      neighbors:
                        neighbor:
                          - ip: '10.1.1.1'
                            config:
                              ip: '10.1.1.1'
                              link-layer-address: '10:10:01:01:01:01'
                    openconfig-if-ip:ipv6:
                      neighbors:
                        neighbor:
                          - ip: '100::100'
                            config:
                              ip: '100::100'
                              link-layer-address: '11:10:01:01:01:01'
  config_requests:
    - path: 'data/openconfig-interfaces:interfaces/interface=Eth1%2f31/subinterfaces/subinterface=0/openconfig-if-ip:ipv4/neighbors'
      method: 'patch'
      data:
        openconfig-if-ip:neighbors:
          neighbor:
            - ip: '10.1.1.1'
              config:
                ip: '10.1.1.1'
                link-layer-address: '44:10:01:01:01:01'
    - path: 'data/openconfig-interfaces:interfaces/interface=Eth1%2f31/subinterfaces/subinterface=0/openconfig-if-ip:ipv6/neighbors'
      method: 'patch'
      data:
        openconfig-if-ip:neighbors:
          neighbor:
            - ip: '100::100'
              config:
                ip: '100::100'
                link-layer-address: '66:10:01:01:01:01'
