---
merged_01:
  module_args:
    config:
      - name: Eth1/1
        access:
          vlan: 10      
        trunk:
          allowed_vlans:
            - vlan: '11'
            - vlan: '12'
            - vlan: '13'
            - vlan: '14,16'
            - vlan: '21-30'
  existing_l2_interfaces_config:
    - path: "data/openconfig-interfaces:interfaces"
      response:
        code: 200
        value:
          openconfig-interfaces:interfaces:
            interface:
              - name: 'Eth1/1'
                config:
                  mtu: 2000
  expected_config_requests:
    - path: "data/openconfig-interfaces:interfaces/interface=Eth1%2f1/openconfig-if-ethernet:ethernet/openconfig-vlan:switched-vlan/config"
      method: "patch"
      data:
        openconfig-vlan:config:
          access-vlan: 10
          trunk-vlans:
            - 11
            - 12
            - 13
            - 14
            - 16
            - '21..30'
merged_02:
  module_args:
    config:
      - name: Eth1/1
        access:
          vlan: 10      
        trunk:
          allowed_vlans:
            - vlan: 14-20
  existing_l2_interfaces_config:
    - path: "data/openconfig-interfaces:interfaces"
      response:
        code: 200
        value:
          openconfig-interfaces:interfaces:
            interface:
              - name: Eth1/1
                openconfig-if-ethernet:ethernet:
                  openconfig-vlan:switched-vlan:
                    config:
                      access-vlan: 10
                      interface-mode: TRUNK
                      trunk-vlans: 
                        - "11..15"
  expected_config_requests:
    - path: "data/openconfig-interfaces:interfaces/interface=Eth1%2f1/openconfig-if-ethernet:ethernet/openconfig-vlan:switched-vlan/config"
      method: "patch"
      data:
        openconfig-vlan:config:
          trunk-vlans:
            - '14..20'

deleted_01:
  module_args:
    state: deleted
  existing_l2_interfaces_config:
    - path: "data/openconfig-interfaces:interfaces"
      response:
        code: 200
        value:
          openconfig-interfaces:interfaces:
            interface:
              - name: Eth1/1
                openconfig-if-ethernet:ethernet:
                  openconfig-vlan:switched-vlan:
                    config:
                      access-vlan: 10
  expected_config_requests:
    - path: "data/openconfig-interfaces:interfaces/interface=Eth1%2f1/openconfig-if-ethernet:ethernet/openconfig-vlan:switched-vlan/config"
      method: "delete"
      data:

deleted_02:
  module_args:
    state: deleted
    config:
      - name: Eth1/1
        access:
          vlan: 10      
        trunk:
          allowed_vlans:
            - vlan: 11
            - vlan: 13
  existing_l2_interfaces_config:
    - path: "data/openconfig-interfaces:interfaces"
      response:
        code: 200
        value:
          openconfig-interfaces:interfaces:
            interface:
              - name: Eth1/1
                openconfig-if-ethernet:ethernet:
                  openconfig-vlan:switched-vlan:
                    config:
                      access-vlan: 10
                      interface-mode: TRUNK
                      trunk-vlans: 
                        - "11..15"
  expected_config_requests:
    - path: "data/openconfig-interfaces:interfaces/interface=Eth1%2f1/openconfig-if-ethernet:ethernet/openconfig-vlan:switched-vlan/config/access-vlan"
      method: "delete"
      data:
    - path: "data/openconfig-interfaces:interfaces/interface=Eth1%2f1/openconfig-if-ethernet:ethernet/openconfig-vlan:switched-vlan/config/trunk-vlans=11%2C13"
      method: "delete"
      data:

replaced_01:
  module_args:
    state: replaced
    config:
      - name: Eth1/1
        access:
          vlan: 12      
  existing_l2_interfaces_config:
    - path: "data/openconfig-interfaces:interfaces"
      response:
        code: 200
        value:
          openconfig-interfaces:interfaces:
            interface:
              - name: 'Eth1/1'
                openconfig-if-ethernet:ethernet:
                  openconfig-vlan:switched-vlan:
                    config:
                      access-vlan: 10
                      interface-mode: TRUNK
                      trunk-vlans: 
                        - "11..15"
              - name: 'Eth1/2'
                openconfig-if-ethernet:ethernet:
                  openconfig-vlan:switched-vlan:
                    config:
                      access-vlan: 20
                      interface-mode: TRUNK
                      trunk-vlans: 
                        - "21..25"
  expected_config_requests:
    - path: "data/openconfig-interfaces:interfaces/interface=Eth1%2f1/openconfig-if-ethernet:ethernet/openconfig-vlan:switched-vlan/config"
      method: "delete"
      data:
    - path: "data/openconfig-interfaces:interfaces/interface=Eth1%2f1/openconfig-if-ethernet:ethernet/openconfig-vlan:switched-vlan/config"
      method: "patch"
      data:
        openconfig-vlan:config:
          access-vlan: 12

overridden_01:
  module_args:
    state: overridden
    config:
      - name: Eth1/1
        access:
          vlan: 12      
  existing_l2_interfaces_config:
    - path: "data/openconfig-interfaces:interfaces"
      response:
        code: 200
        value:
          openconfig-interfaces:interfaces:
            interface:
              - name: 'Eth1/1'
                openconfig-if-ethernet:ethernet:
                  openconfig-vlan:switched-vlan:
                    config:
                      access-vlan: 10
                      interface-mode: TRUNK
                      trunk-vlans: 
                        - "11..15"
              - name: 'Eth1/2'
                openconfig-if-ethernet:ethernet:
                  openconfig-vlan:switched-vlan:
                    config:
                      access-vlan: 20
                      interface-mode: TRUNK
                      trunk-vlans: 
                        - "21..25"
  expected_config_requests:
    - path: "data/openconfig-interfaces:interfaces/interface=Eth1%2f1/openconfig-if-ethernet:ethernet/openconfig-vlan:switched-vlan/config"
      method: "delete"
      data:
    - path: "data/openconfig-interfaces:interfaces/interface=Eth1%2f1/openconfig-if-ethernet:ethernet/openconfig-vlan:switched-vlan/config"
      method: "patch"
      data:
        openconfig-vlan:config:
          access-vlan: 12
    - path: "data/openconfig-interfaces:interfaces/interface=Eth1%2f2/openconfig-if-ethernet:ethernet/openconfig-vlan:switched-vlan/config"
      method: "delete"
      data:
