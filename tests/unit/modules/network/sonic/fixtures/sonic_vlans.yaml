---
merged_01:
  module_args:
    config:
      - vlan_id: 10
        description: "Internal"
        autostate: false
  existing_vlans_config:
    - path: "data/sonic-device-metadata:sonic-device-metadata/DEVICE_METADATA/DEVICE_METADATA_LIST=localhost"
      response:
        code: 200
        value:
          sonic-device-metadata:DEVICE_METADATA_LIST:
            - intf_naming_mode: native
    - path: "data/openconfig-interfaces:interfaces"
      response:
        code: 200
  expected_config_requests:
    - path: "data/openconfig-interfaces:interfaces"
      method: "patch"
      data:
        openconfig-interfaces:interfaces:
          interface:
            - name: Vlan10
              config:
                name: Vlan10
    - path: "data/sonic-vlan:sonic-vlan/VLAN/VLAN_LIST=Vlan10/description"
      method: "patch"
      data:
        sonic-vlan:description: "Internal"
    - path: "data/sonic-vlan:sonic-vlan/VLAN/VLAN_LIST=Vlan10/autostate"
      method: "patch"
      data:
        sonic-vlan:autostate: "disable"

merged_02:
  module_args:
    config:
      - vlan_id: 10
        description: "Descr2"
        autostate: true
      - vlan_id: 20
  existing_vlans_config:
    - path: "data/sonic-vlan:sonic-vlan"
      response:
        code: 200
        value:
          sonic-vlan:sonic-vlan:
            VLAN:
              VLAN_LIST:
                - name: Vlan10
                  vlanid: 10
                  autostate: "disable"
                  description: "Descr1"
  expected_config_requests:
    - path: "data/openconfig-interfaces:interfaces"
      method: "patch"
      data:
        openconfig-interfaces:interfaces:
          interface:
            - name: Vlan20
              config:
                name: Vlan20
    - path: "data/sonic-vlan:sonic-vlan/VLAN/VLAN_LIST=Vlan10/description"
      method: "patch"
      data:
        sonic-vlan:description: "Descr2"
    - path: "data/sonic-vlan:sonic-vlan/VLAN/VLAN_LIST=Vlan10/autostate"
      method: "patch"
      data:
        sonic-vlan:autostate: "enable"


deleted_01_vlan_descr:
  module_args:
    state: deleted
    config:
      - vlan_id: 10
        description: "Internal"
        autostate: false
  existing_vlans_config:
    - path: "data/sonic-vlan:sonic-vlan"
      response:
        code: 200
        value:
          sonic-vlan:sonic-vlan:
            VLAN:
              VLAN_LIST:
                - name: Vlan10
                  vlanid: 10
                  autostate: "disable"
                  description: Internal
  expected_config_requests:
    - path: "data/sonic-vlan:sonic-vlan/VLAN/VLAN_LIST=Vlan10/description"
      method: "delete"
      data:
    - path: "data/sonic-vlan:sonic-vlan/VLAN/VLAN_LIST=Vlan10/autostate"
      method: "delete"

deleted_02_vlan:
  module_args:
    state: deleted
  existing_vlans_config:
    - path: "data/openconfig-interfaces:interfaces"
      response:
        code: 200
        value:
          openconfig-interfaces:interfaces:
            interface:
              - config:
                  name: Vlan10
    - path: "data/sonic-vlan:sonic-vlan"
      response:
        code: 200
        value:
          sonic-vlan:sonic-vlan:
            VLAN:
              VLAN_LIST:
                - name: Vlan10
                  vlanid: 10
                  autostate: "enable"
  expected_config_requests:
    - path: "data/sonic-vlan:sonic-vlan/VLAN/VLAN_LIST=Vlan10"
      method: "delete"
      data:

replaced_01:
  module_args:
    state: replaced
    config:
      - vlan_id: 10
        description: "Descr2"
        autostate: true
      - vlan_id: 30
        autostate: false
  existing_vlans_config:
    - path: "data/openconfig-interfaces:interfaces"
      response:
        code: 200
        value:
          openconfig-interfaces:interfaces:
            interface:
              - config:
                  name: Vlan10
    - path: "data/sonic-vlan:sonic-vlan"
      response:
        code: 200
        value:
          sonic-vlan:sonic-vlan:
            VLAN:
              VLAN_LIST:
                - name: Vlan10
                  vlanid: 10
                  autostate: "disable"
                  description: "Descr1"
  expected_config_requests:
    - path: "data/sonic-vlan:sonic-vlan/VLAN/VLAN_LIST=Vlan10/description"
      method: "delete"
      data:
    - path: "data/sonic-vlan:sonic-vlan/VLAN/VLAN_LIST=Vlan10/autostate"
      method: "delete"
      data:
    - path: "data/sonic-vlan:sonic-vlan/VLAN/VLAN_LIST=Vlan10/description"
      method: "patch"
      data:
        sonic-vlan:description: "Descr2"
    - path: "data/sonic-vlan:sonic-vlan/VLAN/VLAN_LIST=Vlan10/autostate"
      method: "patch"
      data:
        sonic-vlan:autostate: "enable"
    - path: "data/openconfig-interfaces:interfaces"
      method: "patch"
      data:
        openconfig-interfaces:interfaces:
          interface:
            - name: Vlan30
              config:
                name: Vlan30
    - path: "data/sonic-vlan:sonic-vlan/VLAN/VLAN_LIST=Vlan30/autostate"
      method: "patch"
      data:
        sonic-vlan:autostate: "disable"


overridden_01:
  module_args:
    state: overridden
    config:
      - vlan_id: 10
        description: "Descr3"
        autostate: true
      - vlan_id: 20
      - vlan_id: 40
        autostate: false
  existing_vlans_config:
    - path: "data/openconfig-interfaces:interfaces"
      response:
        code: 200
        value:
          openconfig-interfaces:interfaces:
            interface:
              - config:
                  name: Vlan10
              - config:
                  name: Vlan20
    - path: "data/sonic-vlan:sonic-vlan"
      response:
        code: 200
        value:
          sonic-vlan:sonic-vlan:
            VLAN:
              VLAN_LIST:
                - name: Vlan10
                  vlanid: 10
                  autostate: "disable"
                  description: "Descr1"
                - name: Vlan20
                  vlanid: 20
                  autostate: "disable"
                  description: "Descr20"
  expected_config_requests:
    - path: "data/sonic-vlan:sonic-vlan/VLAN/VLAN_LIST=Vlan10/autostate"
      method: "delete"
      data:
    - path: "data/sonic-vlan:sonic-vlan/VLAN/VLAN_LIST=Vlan10/description"
      method: "patch"
      data:
        sonic-vlan:description: "Descr3"
    - path: "data/sonic-vlan:sonic-vlan/VLAN/VLAN_LIST=Vlan20/autostate"
      method: "delete"
      data:
    - path: "data/openconfig-interfaces:interfaces"
      method: "patch"
      data:
        openconfig-interfaces:interfaces:
          interface:
            - name: Vlan40
              config:
                name: Vlan40
    - path: "data/sonic-vlan:sonic-vlan/VLAN/VLAN_LIST=Vlan10/autostate"
      method: "patch"
      data:
        sonic-vlan:autostate: "enable"
    - path: "data/sonic-vlan:sonic-vlan/VLAN/VLAN_LIST=Vlan20/description"
      method: "delete"
      data:
    - path: "data/sonic-vlan:sonic-vlan/VLAN/VLAN_LIST=Vlan40/autostate"
      method: "patch"
      data:
        sonic-vlan:autostate: "disable"
